@model IEnumerable<QuanLyNongTraiLonThit.TienIch.VatNuoi>

@{
    ViewBag.Title = "Danh sách vật nuôi";
}

<h2>Danh sách vật nuôi</h2>
<hr />
<div class="mb-5">
    <span>
        <a href="@Url.Action("Create", "VatNuois")" class="btn btn-primary float-left">Thêm vật nuôi</a>
    </span>
</div>
<div class="py-3">
    @if (!Model.Any())
        {

            <h5 class="text-center text-danger">Danh sách vật nuôi trống...</h5>
        }
        else
        {
    <table class="table table-condensed table-hover  table-striped">
        <tr class="d-flex bg-light">
            <th class=" text-center">
                STT
            </th>
            <th class="text-center">
                @Html.DisplayNameFor(model => model.MaVatNuoi)

            </th>
            <th class=" text-center">
                @Html.DisplayNameFor(model => model.Chuong.DayChuong)
            </th>
            <th class=" text-center">
                @Html.DisplayNameFor(model => model.Giong.TenGiong)
            </th>
            <th class=" text-center">
                @Html.DisplayNameFor(model => model.ThoiGianThuHoach)
            </th>
            <th class=" text-center">
                @Html.DisplayNameFor(model => model.ThoiGianCachLy)
            </th>
            <th class=" text-center">
                @Html.DisplayNameFor(model => model.TrangThai)
            </th>
            <th class=" text-center">Chức năng</th>
        </tr>

        @{ int count = 1;}
        @foreach (var item in Model)
        {
            <tr class="d-flex">
                <td class=" text-center">
                    @count
                    @{count++;}
                </td>
                <th class="text-center">
                    <a href="@Url.Action("Details","VatNuois", new {id = item.MaVatNuoi })">@item.MaVatNuoi</a>

                </th>
                <td>
                    @Html.DisplayFor(modelItem => item.Chuong.DayChuong)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Giong.TenGiong)
                </td>
                <td>
                    @if (item.ThoiGianThuHoach != null)
                    {
                        item.ThoiGianThuHoach.Value.ToShortDateString();
                    }
                    else
                    {
                        0.ToString();
                    }
                </td>
                <td>
                    @if (item.ThoiGianCachLy != null)
                    {
                        item.ThoiGianCachLy.Value.ToShortDateString();
                    }
                    else
                    {
                        0.ToString();
                    }
                </td>
                <td>
                    @Helper.TrangThaiVatNuoi(item.TrangThai);
                 
                </td>

                <td class=" text-center">
                    <form action="@Url.Action("Delete","VatNuois", new { id=item.MaVatNuoi })" method="post">
                        <a href="@Url.Action("Edit","VatNuois", new { id=item.MaVatNuoi })" class="btn btn-primary">Sửa</a>
                        @* @Html.ActionLink("Sửa", "Edit", new { id = item.MaChuong }) |*@
                        <button type="submit" onclick="return confirm('Bạn chắc chắn muốn xóa chuồng @item.MaVatNuoi');" class="btn btn-danger">Xóa</button>

                    </form>
                </td>
            </tr>
        }

    </table>
    }
</div>